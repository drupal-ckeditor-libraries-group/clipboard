<!DOCTYPE html>
<!--
Copyright (c) 2003-2011, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.html or http://ckeditor.com/license
-->
<html>
<head>
	<meta charset="utf-8">
	<title>Clipboard playground &ndash; CKEditor Sample</title>
	<script src="../../../ckeditor.js"></script>
	<link href="../../../samples/sample.css" rel="stylesheet">
	<script>

CKEDITOR.config.extraPlugins =
	'about,' +
	'basicstyles,' +
	'bidi,' +
	'blockquote,' +
	'selectionmark,' +
	'button,' +
	'clipboard,' +
	'colorbutton,' +
	'colordialog,' +
	'div,' +
	'elementspath,' +
	'enterkey,' +
	'entities,' +
	'find,' +
	'flash,' +
	'font,' +
	'format,' +
	'forms,' +
	'horizontalrule,' +
	'image,' +
	'iframe,' +
	'indent,' +
	'justify,' +
	'link,' +
	'list,' +
	'maximize,' +
	'newpage,' +
	'pagebreak,' +
	'pastefromword,' +
	'pastetext,' +
	'preview,' +
	'print,' +
	'removeformat,' +
	'resize,' +
	'scayt,' +
	'toolbar,' +
	'save,' +
	'selectall,' +
	'showblocks,' +
	'showborders,' +
	'smiley,' +
	'sourcearea,' +
	'specialchar,' +
	'stylescombo,' +
	'table,' +
	'templates,' +
	'undo,' +
	'wsc,' +
	'wysiwygarea';

	</script>
	<style>
body {
	margin: 0;
}

#editables, #console
{
	width: 48%;
}
#editable {
	padding: 5px 10px;
}

#console {
	position: fixed;
	top: 10px;
	right: 30px;
	height: 500px;
	border: solid 3px #555;
	overflow: auto;
}
#console > p {
	border-bottom: solid 1px #555;
	margin: 0;
	padding: 0 5px;
	background: rgba(0, 0, 0, 0.25);
	-webkit-transition: background-color 1s;
	-moz-transition: background-color 1s;
	-o-transition: background-color 1s;
	-msie-transition: background-color 1s;
	transition: background-color 1s;
}
#console > p.old {
	background: rgba(0, 0, 0, 0);
}
#console time, #console .prompt {
	padding: 0 5px;
	display: inline-block;
}
#console time {
	background: #999;
	background: rgba(0, 0, 0, 0.5 );
	color: #FFF;
	margin-left: -5px;
}
#console .prompt {
	background: #DDD;
	background: rgba(0, 0, 0, 0.1 );
	min-width: 200px;
}
	</style>
</head>
<body>
	<h1 class="samples">
		CKEditor Sample &mdash; clipboard plugin playground
	</h1>
	<div id="editables">
		<p>
			<label for="editor1">
				Editor 1:</label>
			<textarea cols="80" id="editor1" name="editor1" rows="10">&lt;p&gt;This is some &lt;strong&gt;sample text&lt;/strong&gt;. You are using &lt;a href="http://ckeditor.com/"&gt;CKEditor&lt;/a&gt;.&lt;/p&gt;</textarea>
		</p>
		<p>
			<label for="editor2">
				Editor 2:</label>
			<textarea cols="80" id="editor2" name="editor2" rows="10">&lt;p&gt;This is more &lt;strong&gt;sample text&lt;/strong&gt;. You are using &lt;a href="http://ckeditor.com/"&gt;CKEditor&lt;/a&gt;.&lt;/p&gt;</textarea>
		</p>
		<div id="editable" contenteditable="true">
			<h1>Header</h1>
			<p>Content content content.</p>
		</div>
	</div>
	<div id="console">
	</div>
	<script>
( function()
{
	'use strict';

	var log = window.__log = function( title, msg )
	{
		var msgEl = new CKEDITOR.dom.element( 'p' ),
			consoleEl = CKEDITOR.document.getById( 'console' ),
			time = new Date().toString().match( /\d\d:\d\d:\d\d/ )[ 0 ],
			format = function( tpl )
			{
				return tpl.replace( /{time}/g, time ).replace( '{title}', title ).replace( '{msg}', msg || '' );
			};

		window.console && console.log( format( '[{time}] {title}: {msg}' ) );

		msg = CKEDITOR.tools.htmlEncode( msg || '' );
		msgEl.setHtml( format( '<time datetime="{time}">{time}</time><span class="prompt">{title}</span> {msg}' ) );
		consoleEl.append( msgEl );
		consoleEl.$.scrollTop = consoleEl.$.scrollHeight;
		setTimeout( function () { msgEl.addClass( 'old' ); }, 250 );
	};

	var observe = function( editor, num )
	{
		var p = 'EDITOR ' + num + ' > ';

		editor.on( 'paste', function( event )
			{
				log( p + 'paste', event.data.mode + ' - ' + event.data[ event.data.mode ] );
			});
		editor.on( 'paste', function( event )
			{
				log( p + 'paste(prior:999)', event.data.mode + ' - ' + event.data[ event.data.mode ] );
			}, null, null, 999 );
		editor.on( 'beforePaste', function( event )
			{
				log( p + 'beforePaste', event.data.mode );
			});
		editor.on( 'beforePaste', function( event )
			{
				log( p + 'beforePaste(prior:999)', event.data.mode );
			}, null, null, 999 );
		editor.on( 'afterPaste', function( event )
			{
				log( p + 'afterPaste' );
			});
		editor.on( 'afterPaste', function( event )
			{
				log( p + 'afterPaste(prior:999)' );
			}, null, null, 999);
		editor.on( 'copy', function( event )
			{
				log( p + 'copy' );
			});
		editor.on( 'cut', function( event )
			{
				log( p + 'cut' );
			});
	};

	CKEDITOR.disableAutoInline = true;
	var editor1 = CKEDITOR.replace( 'editor1' ),
		editor2 = CKEDITOR.replace( 'editor2' ),
		editor3 = CKEDITOR.inline( document.getElementById( 'editable' ) );

	observe( editor1, 1 );
	observe( editor2, 2 );
	observe( editor3, 3 );

})();
	</script>
</body>
</html>
